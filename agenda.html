<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Sekwan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = { databaseURL: "https://websekawan-default-rtdb.asia-southeast1.firebasedatabase.app/" };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        onValue(ref(db, 'content/agenda'), (snap) => {
            const list = document.getElementById('agenda-list'); list.innerHTML = "";
            snap.forEach(child => {
                const a = child.val();
                list.innerHTML = `
                    <div class="flex gap-4 bg-white p-5 rounded-[2.5rem] shadow-sm mb-4 border border-slate-100">
                        <div class="bg-[#005461] text-white p-4 rounded-[1.8rem] text-center min-w-[65px] h-fit">
                            <p class="text-xs font-black">${a.tgl.split(' ')[0] || '--'}</p>
                            <p class="text-[8px] font-bold opacity-70 uppercase">${a.tgl.split(' ')[1] || ''}</p>
                        </div>
                        <div>
                            <h3 class="text-sm font-black text-[#005461] leading-tight">${a.judul}</h3>
                            <div class="flex items-center gap-3 mt-2">
                                <span class="text-[9px] font-bold text-[#00B7B5] uppercase"><i class="far fa-clock mr-1"></i>${a.jam || '07:00'}</span>
                                <span class="text-[9px] font-bold text-slate-400 uppercase"><i class="fas fa-map-marker-alt mr-1"></i> Area RT</span>
                            </div>
                        </div>
                    </div>` + list.innerHTML;
            });
        });
    </script>
</head>
<body class="bg-[#F8FAFB] pb-24 text-[#005461]">
    <div class="bg-[#00B7B5] p-8 rounded-b-[3.5rem] text-white shadow-xl">
        <button onclick="history.back()" class="mb-4 opacity-80 text-black"><i class="fas fa-arrow-left mr-2"></i></button>
        <h1 class="text-2xl font-black tracking-tighter text-[#005461]">AGENDA <span class="text-white">RT.</span></h1>
    </div>
    <main id="agenda-list" class="p-6 mt-4"></main>
</body>
</html>
