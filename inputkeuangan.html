<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Keuangan - Sekwan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = { databaseURL: "https://websekawan-default-rtdb.asia-southeast1.firebasedatabase.app/" };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        window.simpanData = async (tipe) => {
            const bulan = document.getElementById(`${tipe}-bulan`).value;
            const nominal = document.getElementById(`${tipe}-nominal`).value;

            if(!bulan || !nominal) return alert("Isi semua dulu, Bro!");

            const listRef = ref(db, `history/${tipe}`);
            const newDataRef = push(listRef);
            
            try {
                await set(newDataRef, {
                    bulan: bulan,
                    nominal: parseInt(nominal),
                    tgl_input: new Date().toISOString()
                });
                alert(`Data ${tipe} berhasil masuk!`);
                document.getElementById(`${tipe}-nominal`).value = "";
            } catch (e) {
                alert("Gagal, cek koneksi!");
            }
        };
    </script>
    <style>@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap'); body { font-family: 'Plus Jakarta Sans', sans-serif; }</style>
</head>
<body class="bg-[#F8FAFB] pb-20">

    <header class="p-8 pb-16 bg-[#005461] text-white rounded-b-[3.5rem] shadow-xl relative z-10 border-b-4 border-[#00B7B5]">
        <h1 class="text-2xl font-black tracking-tighter uppercase leading-none">INPUT <span class="text-[#00B7B5]">KAS RT.</span></h1>
        <p class="text-[10px] font-bold opacity-60 mt-2 uppercase tracking-widest">Update Laporan Keuangan</p>
    </header>

    <main class="p-6 -mt-8 relative z-20 space-y-6">
        
        <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border border-slate-100">
            <h2 class="text-xs font-black text-[#005461] uppercase mb-4 flex items-center gap-2">
                <i class="fas fa-wallet text-[#00B7B5]"></i> Kas Utama
            </h2>
            <div class="space-y-4">
                <select id="kas-bulan" class="w-full bg-slate-50 p-4 rounded-2xl border-none text-sm font-bold text-black focus:ring-2 focus:ring-[#00B7B5]">
                    <option value="Januari">Januari</option>
                    <option value="Februari">Februari</option>
                    <option value="Maret">Maret</option>
                    <option value="April">April</option>
                    <option value="Mei">Mei</option>
                    <option value="Juni">Juni</option>
                    <option value="Juli">Juli</option>
                    <option value="Agustus">Agustus</option>
                    <option value="September">September</option>
                    <option value="Oktober">Oktober</option>
                    <option value="November">November</option>
                    <option value="Desember">Desember</option>
                </select>
                <input type="number" id="kas-nominal" placeholder="Nominal (Contoh: 500000)" class="w-full bg-slate-50 p-4 rounded-2xl border-none text-sm font-bold text-black focus:ring-2 focus:ring-[#00B7B5]">
                <button onclick="simpanData('kas')" class="w-full bg-[#005461] text-white font-black py-4 rounded-2xl uppercase text-[10px] tracking-[0.2em] shadow-lg active:scale-95 transition-all">Update Kas Utama</button>
            </div>
        </div>

        <div class="bg-white p-8 rounded-[2.5rem] shadow-xl border border-slate-100">
            <h2 class="text-xs font-black text-[#005461] uppercase mb-4 flex items-center gap-2">
                <i class="fas fa-hand-holding-heart text-[#00B7B5]"></i> Dana Sosial
            </h2>
            <div class="space-y-4">
                <select id="sosial-bulan" class="w-full bg-slate-50 p-4 rounded-2xl border-none text-sm font-bold text-black focus:ring-2 focus:ring-[#00B7B5]">
                    <option value="Januari">Januari</option>
                    <option value="Februari">Februari</option>
                    <option value="Maret">Maret</option>
                    <option value="April">April</option>
                    <option value="Mei">Mei</option>
                    <option value="Juni">Juni</option>
                    <option value="Juli">Juli</option>
                    <option value="Agustus">Agustus</option>
                    <option value="September">September</option>
                    <option value="Oktober">Oktober</option>
                    <option value="November">November</option>
                    <option value="Desember">Desember</option>
                </select>
                <input type="number" id="sosial-nominal" placeholder="Nominal (Contoh: 200000)" class="w-full bg-slate-50 p-4 rounded-2xl border-none text-sm font-bold text-black focus:ring-2 focus:ring-[#00B7B5]">
                <button onclick="simpanData('sosial')" class="w-full bg-[#00B7B5] text-[#005461] font-black py-4 rounded-2xl uppercase text-[10px] tracking-[0.2em] shadow-lg active:scale-95 transition-all">Update Dana Sosial</button>
            </div>
        </div>

    </main>

    <div class="text-center mt-4">
        <button onclick="location.href='admin.html'" class="text-[10px] font-black text-slate-400 uppercase tracking-widest"><i class="fas fa-arrow-left"></i> Kembali ke Panel Utama</button>
    </div>

</body>
  </html>
  
